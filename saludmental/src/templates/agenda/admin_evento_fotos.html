{% extends "base.html" %}
{% load i18n %}
{% block title %}{% trans "Fotos del evento" %}{% endblock %}
{% block content %}
<h1 class="mb-3">{% trans "Fotos de" %} {{ evento.titulo|default:evento.nombre }}</h1>
<div class="mb-3">
  <a href="{% url 'admin_evento_list' %}" class="btn btn-outline-primary">{% trans "Volver a eventos" %}</a>
  <a href="{% url 'admin_evento_edit' evento.pk %}" class="btn btn-outline-secondary">{% trans "Editar evento" %}</a>
</div>
<form method="post" enctype="multipart/form-data" class="card mb-4">
  {% csrf_token %}
  <div class="card-header">{% trans "Subir nuevas fotos" %}</div>
  <div class="card-body">
    <input type="file" name="fotos" accept="image/jpeg,image/png,image/webp" class="form-control" multiple>
    <div class="form-text">{% trans "Puedes seleccionar varias imágenes a la vez." %}</div>
  </div>
  <div class="card-footer text-end">
    <button class="btn btn-primary" type="submit">{% trans "Subir" %}</button>
  </div>
</form>
<div class="row g-3">
  {% for f in fotos %}
  <div class="col-6 col-md-3 col-lg-2">
    <div class="card">
      <img src="{{ f.imagen.url }}" class="card-img-top" style="height:140px;object-fit:cover;">
      <div class="card-body p-2">
        <div class="small text-muted">{{ f.fecha_subida|date:"d M Y, H:i" }}</div>
      </div>
    </div>
  </div>
  {% empty %}
  <div class="col-12"><p class="text-muted">{% trans "Aún no hay fotos." %}</p></div>
  {% endfor %}
</div>
{% endblock %}